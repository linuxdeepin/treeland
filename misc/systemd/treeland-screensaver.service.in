[Unit]
Description=Treeland ScreenSaver D-Bus Service
CollectMode=inactive-or-failed

PartOf=dde-session-pre.target
Before=dde-session-pre.target

Requisite=treeland-sd.service
After=treeland-sd.service

[Service]
ExecCondition=/bin/sh -c 'test "$XDG_SESSION_DESKTOP" = "Treeland" || exit 2'
Type=dbus
BusName=org.freedesktop.ScreenSaver
ExecStart=@CMAKE_INSTALL_FULL_LIBEXECDIR@/treeland-screensaver
Slice=session.slice
Restart=on-failure
RestartSec=1s
